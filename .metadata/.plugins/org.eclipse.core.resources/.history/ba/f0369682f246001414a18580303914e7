package test.by.pvt.epam;

import java.io.File;
import java.io.IOException;
import org.junit.BeforeClass;
import org.junit.Ignore;
import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;
import org.junit.rules.TemporaryFolder;
import org.junit.rules.Timeout;
import org.junit.runner.RunWith;

import by.pvt.epam.pool.ConnectionPool;

@RunWith(ConPoolRunner.class)
public class ConPoolTestRule {
	private static ConnectionPool conPoolInstance;

	@BeforeClass
	public static void initScholarshipCalculator() {
		conPoolInstance = ConnectionPool.getInstance();
	}

	@Rule
	public final Timeout timeout = new Timeout(300);
	@Rule
	public final ExpectedException thrown = ExpectedException.none();

	@Test
	public void writeResultTest() throws IOException {
		File file = folder.newFile("a:/result.txt"); // тест будет провален
		conPoolInstance.writeResult(file);
	}

	@Test
	public void stepUpCoefficientCalculateTest() throws NotSuchMarkException {
		thrown.expect(NotSuchMarkException.class);
		scholarshipCalculator.stepUpCoefficientCalculate(11);
	}

}