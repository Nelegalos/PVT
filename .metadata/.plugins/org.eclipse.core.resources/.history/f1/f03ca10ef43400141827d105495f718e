package by.pvt.epam.composite;

//import static by.pvt.epam.logging.CompositeLogger.*;

import org.apache.log4j.LogManager;
import org.apache.log4j.Logger;
import org.apache.log4j.xml.DOMConfigurator;

import by.pvt.epam.exceptions.LeafTechnicalException;

public class LeafCodeBlock implements Component {

	private String codeBlock;

	public LeafCodeBlock(String block) {
		this.codeBlock = block;
	}

	static {
		new DOMConfigurator().doConfigure("log4j.xml",
				LogManager.getLoggerRepository());
	}
	static Logger logger = Logger.getLogger(LeafCodeBlock.class);

	@Override
	public void printToFile() {
		System.out.println(codeBlock);
	}

	public void setCodeBlock(String block) {
		this.codeBlock = block;
	}

	@Override
	public void add(Component c) {
		logger.warn("Leaf -> add. Doing nothing");
	}

	@Override
	public void remove(Component c) {
		logger.warn("Leaf -> remove. Doing nothing");
	}

	@Override
	public Component getChild(int index) throws LeafTechnicalException {
		throw new LeafTechnicalException("Leaf doesn't contain any children");
	}

	@Override
	public String toString() {
		return codeBlock;
	}

	public void delChars() {
		printToFile();
	}

	@Override
	public void delWords() {
		printToFile();
	}

}
